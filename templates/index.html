<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8" />
    <title>Moderná Bootstrap stránka</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-danger">
    <div class="container">
        <a class="navbar-brand fw-bold" href="#">MojaStránka</a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="mainNav">
            <ul class="navbar-nav ms-auto align-items-lg-center">
                <li class="nav-item"><a class="nav-link active" href="#">Domov</a></li>
                <li class="nav-item"><a class="nav-link" href="#sluzby">Služby</a></li>
                <li class="nav-item"><a class="nav-link" href="#grid">Grid</a></li>
                <li class="nav-item"><a class="nav-link" href="#tabulka">Tabuľka</a></li>
                <li class="nav-item"><a class="nav-link" href="#faq">FAQ</a></li>
                <li class="nav-item"><a class="nav-link" href="#content">Obsah</a></li>
                <li class="nav-item"><a class="nav-link" href="#newsletter">Kontakty</a></li>

                <li class="nav-item ms-lg-3">
                    <button class="btn btn-outline-light btn-sm" data-bs-toggle="modal" data-bs-target="#contactModal">
                        Kontakt
                    </button>
                </li>
            </ul>
        </div>
    </div>
</nav>


<!-- HERO -->
<section class="hero d-flex flex-column justify-content-center align-items-center text-center">
    <h1 class="display-4 fw-bold text-white">Moderná Bootstrap stránka</h1>
    <p class="lead text-white-50">Responzívny dizajn, čisté prvky a uloženie kontaktov.</p>
    <a href="#sluzby" class="btn btn-light btn-lg mt-3">Začať</a>
</section>


<!-- SLUŽBY -->
<section id="sluzby" class="container my-5">
    <h2 class="text-center mb-4 fw-bold">Naše služby</h2>

    <div class="row g-4">
        <div class="col-md-4">
            <div class="features-box p-4 text-center border rounded shadow-sm bg-white h-100">
                <i class="bi bi-speedometer2 display-4 text-danger"></i>
                <h4 class="mt-3">Rýchlosť</h4>
                <p>Optimalizácia výkonu pre čo najrýchlejšie načítanie stránky.</p>
            </div>
        </div>

        <div class="col-md-4">
            <div class="features-box p-4 text-center border rounded shadow-sm bg-white h-100">
                <i class="bi bi-shield-lock display-4 text-danger"></i>
                <h4 class="mt-3">Bezpečnosť</h4>
                <p>Implementácia moderných bezpečnostných princípov.</p>
            </div>
        </div>

        <div class="col-md-4">
            <div class="features-box p-4 text-center border rounded shadow-sm bg-white h-100">
                <i class="bi bi-brush display-4 text-danger"></i>
                <h4 class="mt-3">Dizajn</h4>
                <p>Elegantné, čisté a profesionálne grafické rozhrania.</p>
            </div>
        </div>
    </div>
</section>


<!-- GRID -->
<section id="grid" class="container my-5">
    <h2 class="text-center fw-bold mb-4">Grid System Ukážka</h2>

    <div class="row g-4">
        <div class="col-12 col-md-6 col-lg-4">
            <div class="grid-box p-4 shadow-sm rounded h-100">
                <i class="bi bi-layers display-5 text-danger"></i>
                <h4 class="mt-3 fw-bold">Prvý blok</h4>
                <p>Jednoduchá ukážka plne responzívneho layoutu.</p>
            </div>
        </div>
        <div class="col-12 col-md-6 col-lg-4">
            <div class="grid-box p-4 shadow-sm rounded h-100">
                <i class="bi bi-cpu display-5 text-danger"></i>
                <h4 class="mt-3 fw-bold">Druhý blok</h4>
                <p>Bootstrap grid automaticky prispôsobuje rozloženie.</p>
            </div>
        </div>
        <div class="col-12 col-md-6 col-lg-4">
            <div class="grid-box p-4 shadow-sm rounded h-100">
                <i class="bi bi-lightbulb display-5 text-danger"></i>
                <h4 class="mt-3 fw-bold">Tretí blok</h4>
                <p>Skvelé pre prehľadné sekcie a obsah.</p>
            </div>
        </div>
    </div>
</section>


<!-- TABUĽKA -->
<section id="tabulka" class="container my-5">
    <h2 class="text-center fw-bold mb-4">Ukážková tabuľka</h2>

    <div class="table-responsive shadow rounded">
        <table class="table table-striped table-hover align-middle mb-0">
            <thead class="table-danger">
            <tr>
                <th>#</th>
                <th>Názov</th>
                <th>Popis</th>
                <th>Stav</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>1</td>
                <td>Rýchlosť</td>
                <td>Optimalizované riešenia pre maximálny výkon.</td>
                <td><span class="badge bg-success">Aktívne</span></td>
            </tr>
            <tr>
                <td>2</td>
                <td>Bezpečnosť</td>
                <td>Moderné bezpečnostné štandardy ochrany dát.</td>
                <td><span class="badge bg-primary">Stabilné</span></td>
            </tr>
            <tr>
                <td>3</td>
                <td>Dizajn</td>
                <td>Elegantný a prehľadný vzhľad.</td>
                <td><span class="badge bg-warning text-dark">Prebieha</span></td>
            </tr>
            <tr>
                <td>4</td>
                <td>Podpora</td>
                <td>Komunikácia a aktualizácie.</td>
                <td><span class="badge bg-danger">Pozastavené</span></td>
            </tr>
            </tbody>
        </table>
    </div>
</section>


<!-- OBSAH (iframe) -->
<section id="content" class="container my-5">
    <div class="card shadow p-4">
        <h1 class="main-title">Dynamicky načítaný obsah</h1>
        <iframe src="content.html" class="content-frame" title="Načítaný obsah"></iframe>
    </div>
</section>


<!-- FAQ -->
<section id="faq" class="container my-5">
    <h2 class="text-center fw-bold mb-4">Najčastejšie otázky</h2>

    <div class="accordion shadow-sm rounded overflow-hidden" id="faqAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#a1">
                    Ako funguje načítanie súboru?
                </button>
            </h2>
            <div id="a1" class="accordion-collapse collapse show">
                <div class="accordion-body">
                    Obsah sa načíta z <code>content.html</code> pomocou iframe.
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#a2">
                    Môžem pridať viac obsahu?
                </button>
            </h2>
            <div id="a2" class="accordion-collapse collapse">
                <div class="accordion-body">
                    Áno, jednoducho pridáte nový súbor a zmeníte jeho cestu.
                </div>
            </div>
        </div>
    </div>
</section>


<!-- NEWSLETTER / Kontakty -->
<section id="newsletter" class="container my-5">
    <h2 class="text-center fw-bold mb-4">Uložené kontakty</h2>

    <div id="emailAlert" class="alert d-none"></div>

    <div class="row g-4">
        <div class="col-lg-5">
            <div class="p-4 bg-white shadow-sm rounded h-100">

                <h5 class="fw-bold mb-3"><i class="bi bi-person-plus"></i> Pridať kontakt</h5>

                <form id="emailForm" class="row gy-3">

                    <div class="col-12">
                        <label class="form-label">Meno</label>
                        <input type="text" class="form-control" id="firstNameInput" required>
                    </div>

                    <div class="col-12">
                        <label class="form-label">Priezvisko</label>
                        <input type="text" class="form-control" id="lastNameInput" required>
                    </div>

                    <div class="col-12">
                        <label class="form-label">E-mail</label>
                        <input type="email" class="form-control" id="emailInput" required>
                    </div>

                    <div class="col-12 d-grid">
                        <button class="btn btn-danger"><i class="bi bi-plus-circle"></i> Uložiť</button>
                    </div>

                </form>

                <hr class="my-4">

                <div class="d-flex gap-2">
                    <button id="exportCsvBtn" class="btn btn-outline-danger"><i class="bi bi-download"></i> Export CSV</button>
                    <button id="clearAllBtn" class="btn btn-outline-secondary"><i class="bi bi-trash"></i> Vymazať všetko</button>
                </div>

            </div>
        </div>

        <div class="col-lg-7">
            <div class="table-responsive shadow bg-white p-2 rounded">
                <table class="table table-striped table-hover align-middle mb-0">
                    <thead class="table-danger">
                    <tr>
                        <th>#</th>
                        <th>Meno</th>
                        <th>Priezvisko</th>
                        <th>E-mail</th>
                        <th>Čas</th>
                        <th class="text-end">Akcie</th>
                    </tr>
                    </thead>
                    <tbody id="emailTableBody"></tbody>
                </table>
            </div>
        </div>
    </div>
</section>


<!-- FOOTER -->
<footer class="bg-light py-4 mt-5">
    <div class="container text-center">
        <div class="text-muted">© 2025 MojaStránka</div>
    </div>
</footer>


<!-- MODAL -->
<div class="modal fade" id="contactModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">Kontakt</h5>
                <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p>Demo kontaktný formulár.</p>
            </div>
        </div>
    </div>
</div>


<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Custom JS – kontakt mentés -->
<script>
    const STORAGE_KEY = "newsletter_contacts_v2";

    const firstNameInput = document.getElementById("firstNameInput");
    const lastNameInput  = document.getElementById("lastNameInput");
    const emailInput     = document.getElementById("emailInput");
    const emailTableBody = document.getElementById("emailTableBody");
    const emailAlert     = document.getElementById("emailAlert");

    function showAlert(type, message) {
        emailAlert.className = "alert alert-" + type;
        emailAlert.textContent = message;
        emailAlert.classList.remove("d-none");

        setTimeout(() => {
            emailAlert.classList.add("d-none");
        }, 2500);
    }

    function loadContacts() {
        return JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
    }

    function saveContacts(arr) {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(arr));
    }

    function renderTable() {
        const list = loadContacts();
        emailTableBody.innerHTML = "";
        list.forEach((c, i) => {
            const tr = document.createElement("tr");
            tr.innerHTML = `
        <td>${i + 1}</td>
        <td>${c.firstName}</td>
        <td>${c.lastName}</td>
        <td>${c.email}</td>
        <td>${new Date(c.savedAt).toLocaleString()}</td>
        <td class="text-end">
          <button class="btn btn-sm btn-outline-danger" onclick="deleteContact(${i})">
            <i class="bi bi-trash"></i>
          </button>
        </td>
      `;
            emailTableBody.appendChild(tr);
        });
    }

    function deleteContact(i) {
        const list = loadContacts();
        list.splice(i, 1);
        saveContacts(list);
        renderTable();
    }

    function exportCsv() {
        const list = loadContacts();
        if (!list.length) return;

        let csv = "firstName;lastName;email;savedAt\n";
        list.forEach(c => {
            csv += `${c.firstName};${c.lastName};${c.email};${new Date(c.savedAt).toISOString()}\n`;
        });

        const blob = new Blob([csv], { type: "text/csv" });
        const url = URL.createObjectURL(blob);

        const a = document.createElement("a");
        a.href = url;
        a.download = "contacts.csv";
        a.click();

        URL.revokeObjectURL(url);
    }

    document.getElementById("exportCsvBtn").onclick = exportCsv;

    document.getElementById("clearAllBtn").onclick = () => {
        if (confirm("Naozaj vymazať všetky kontakty?")) {
            saveContacts([]);
            renderTable();
        }
    };

    document.getElementById("emailForm").onsubmit = (e) => {
        e.preventDefault();
        const first = firstNameInput.value.trim();
        const last  = lastNameInput.value.trim();
        const email = emailInput.value.trim();

        if (!first || !last) {
            showAlert("danger", "Vyplňte meno aj priezvisko.");
            return;
        }
        if (!email.includes("@") || !email.includes(".")) {
            showAlert("danger", "Zadajte platný e-mail.");
            return;
        }

        const list = loadContacts();
        list.push({ firstName: first, lastName: last, email, savedAt: Date.now() });
        saveContacts(list);
        renderTable();
        e.target.reset();
        showAlert("success", "Kontakt uložený.");
    };

    renderTable();
</script>

</body>
</html>
